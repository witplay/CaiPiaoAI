# 体彩排列3预测项目 - 依赖库文档

## 项目概述
本项目是一个基于深度学习的体彩排列3预测系统，使用TensorFlow构建LSTM神经网络进行时间序列预测。

## 核心依赖库

### 1. 深度学习框架
#### TensorFlow (tensorflow)
- **版本**: 当前版本（通过tf.__version__获取）
- **用途**: 核心深度学习框架
- **使用位置**: 
  - `RMB888/WLAi02.py:3` - 基础引用
  - `RMB888/AiModels.py:5` - AI模型构建
  - `ComClass/ComFun.py:4` - 模型训练和回调
- **功能**:
  - 神经网络模型构建
  - GPU加速计算
  - 模型训练和评估
  - 张量操作

### 2. 数值计算
#### NumPy (numpy)
- **用途**: 数值计算和数组操作
- **使用位置**: 
  - `CaiAi3PNew.py:3` - 主程序导入
  - `RMB888/WLAi02.py:2` - AI模块导入
  - `ComClass/BaseClass.py:10` - 基础类导入
  - `ComClass/ComFun.py:10` - 功能模块导入
  - `ComClass/ComPrint.py:1` - 打印模块导入
- **功能**:
  - 多维数组操作
  - 数学运算
  - 数据预处理

### 3. 机器学习工具
#### Scikit-learn (sklearn)
- **用途**: 机器学习预处理工具
- **使用位置**: `RMB888/WLAi02.py:11` - StandardScaler数据标准化
- **组件**: StandardScaler - 数据标准化处理

#### AutoKeras (autokeras)
- **用途**: 自动机器学习
- **使用位置**: `RMB888/AiModels.py:3`
- **功能**: 自动神经网络架构搜索

#### Keras Tuner (keras_tuner)
- **用途**: 超参数调优
- **使用位置**: 
  - `RMB888/AiModels.py:4` - 基础引用
  - `RMB888/AiModels.py:6` - Objective导入
  - `RMB888/AiModels.py:7` - RandomSearch导入

### 4. 数据库连接
#### PyMSSQL (pymssql)
- **用途**: Microsoft SQL Server数据库连接
- **使用位置**: `ComClass/Comm_Sql.py:2`
- **配置位置**: `config.py`
- **配置**: 
  - host: '.' (本地)
  - user: 'sa'
  - password: '输入你密码'
  - database: 'caipiaodb'

### 5. 模型持久化
#### Joblib (joblib)
- **用途**: 模型和数据的序列化保存
- **使用位置**: 
  - `RMB888/WLAi02.py:12` - AI模块导入
  - `ComClass/BaseClass.py:9` - 基础类导入
- **功能**:
  - 保存训练好的StandardScaler模型
  - 加载预处理的标准化器

### 6. 数据可视化
#### Matplotlib (matplotlib)
- **用途**: 数据可视化
- **使用位置**: `RMB888/WLAi02.py:1` - 图表绘制功能
- **组件**: pyplot - 绘图接口

### 7. 系统工具库
#### 标准库模块
- **os**: 文件和目录操作
  - 使用位置: 多文件导入
- **sys**: 系统相关参数和函数
  - 使用位置: `ComClass/BaseClass.py:6`
- **copy**: 对象复制操作
  - 使用位置: `CaiAi3PNew.py:9`, `ComClass/BaseClass.py:2`
- **json**: JSON数据处理
  - 使用位置: `ComClass/BaseClass.py:3`, `RMB888/AiModels.py:1`
- **shutil**: 高级文件操作
  - 使用位置: `ComClass/BaseClass.py:5`, `ComClass/ComFun.py:2`
- **time**: 时间操作
  - 使用位置: `ComClass/ComFun.py:4`
- **uuid**: UUID生成
  - 使用位置: `RMB888/WLAi02.py:14`
- **gc**: 垃圾回收
  - 使用位置: `CaiAi3PNew.py:1`
- **collections.deque**: 双端队列
  - 使用位置: `CaiAi3PNew.py:6`, `RMB888/WLAi02.py:16`, `ComClass/BaseClass.py:7`

### 8. Keras扩展
#### Keras Callbacks
- **EarlyStopping**: 早停机制
  - 使用位置: `ComClass/ComFun.py:6`
- **Callback**: 自定义回调基类
  - 使用位置: `ComClass/ComFun.py:15`

#### Keras Backend
- **backend**: Keras后端操作
  - 使用位置: `ComClass/ComFun.py:11`

#### Keras Utils
- **plot_model**: 模型可视化
  - 使用位置: `ComClass/ComFun.py:13`

## 项目架构中的库依赖关系

```
CaiAi3PNew.py (主程序)
├── RMB888/WLAi02.py (AI核心模块)
│   ├── tensorflow (深度学习)
│   ├── numpy (数值计算)
│   ├── sklearn (数据标准化)
│   ├── joblib (模型保存)
│   ├── matplotlib (可视化)
│   └── RMB888/AiModels.py (模型定义)
│       ├── autokeras (自动ML)
│       ├── keras_tuner (超参数调优)
│       └── tensorflow (模型构建)
├── ComClass/BaseClass.py (基础类)
│   ├── joblib (序列化)
│   ├── numpy (数值计算)
│   └── collections.deque (数据结构)
├── ComClass/Comm_Sql.py (数据库操作)
│   ├── pymssql (SQL Server连接)
│   └── config (配置管理)
└── ComClass/ComFun.py (通用功能)
    ├── tensorflow (模型训练)
    ├── keras (深度学习框架)
    └── numpy (数值计算)
```

## 安装建议

### 核心依赖
```bash
pip install tensorflow>=2.0.0
pip install numpy>=1.19.0
pip install scikit-learn>=0.24.0
pip install pymssql>=2.2.0
pip install joblib>=1.0.0
pip install matplotlib>=3.3.0
```

### 高级功能依赖
```bash
pip install autokeras>=1.0.0
pip install keras-tuner>=1.0.0
```

## 配置要求

### Python版本
- 推荐: Python 3.8+

### 系统要求
- 内存: 建议8GB以上（用于深度学习模型训练）
- GPU: 可选，支持CUDA的NVIDIA GPU可显著提升训练速度
- 存储: 预留足够空间保存训练模型和数据

### 数据库要求
- Microsoft SQL Server 2012+
- 数据库名: caipiaodb
- 支持UTF-8编码

## 注意事项

1. **GPU支持**: 项目会自动检测GPU可用性，建议配置CUDA环境以获得更好的性能
2. **模型保存**: 使用joblib保存的标准化器模型需要与对应版本的scikit-learn兼容
3. **数据库连接**: 确保SQL Server服务正常运行，并配置正确的连接参数
4. **内存管理**: 大型数据集训练时注意内存使用，gc模块用于垃圾回收优化

## 版本兼容性

- TensorFlow版本应与Keras版本兼容
- scikit-learn版本影响StandardScaler的兼容性
- 建议使用虚拟环境管理依赖版本，避免冲突

---
*文档生成时间: 2025-12-25*
*项目路径: e:\AI\CaiPiaoAi*